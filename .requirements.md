# üéØ REQUIREMENTS IMMUABLES - breslev

> **FICHIER SACR√â** - Ne JAMAIS supprimer, ne JAMAIS ignorer
> Cr√©√© le: 2025-11-17
> Derni√®re mise √† jour: 2025-11-17

---

## ‚ö†Ô∏è R√àGLE ABSOLUE

**Ce fichier contient les requirements PERMANENTS du projet.**

Cursor et Claude Code DOIVENT:
- ‚úÖ Lire ce fichier au d√©marrage de chaque session
- ‚úÖ V√©rifier conformit√© AVANT tout d√©ploiement
- ‚úÖ Bloquer pr√©sentation si requirements non respect√©s
- ‚ùå JAMAIS ignorer ou contourner ces requirements

---

## 1. üé® DESIGN REQUIREMENTS

### 1.1 Benchmarks Obligatoires
**Sites de r√©f√©rence pour ce projet** (√† √©galer ou d√©passer):
- [ ] Site 1: [URL] - [Raison: ex. animations fluides]
- [ ] Site 2: [URL] - [Raison: ex. typographie √©l√©gante]
- [ ] Site 3: [URL] - [Raison: ex. espacement parfait]

**Screenshots sauvegard√©s** (pour comparaison visuelle):
- `~/.claude-memory/screenshots/[projet]/benchmark-[site].png`

### 1.2 Design System Strict

**Typographie** (MAX 3 FONTS):
```css
--font-heading: '[Font Name]', sans-serif;
--font-body: '[Font Name]', sans-serif;
--font-accent: '[Font Name]', serif; /* Optionnel */
```

**√âchelle Typographique** (Tailwind):
- `text-xs` (12px): Labels
- `text-sm` (14px): Body small
- `text-base` (16px): Body
- `text-lg` (18px): Body large
- `text-xl` (20px): H4
- `text-2xl` (24px): H3
- `text-3xl` (30px): H2
- `text-4xl` (36px): H1
- `text-5xl` (48px): Display
- `text-6xl` (60px): Hero

**Spacing System** (SEULEMENT multiples de 4/8):
- ‚úÖ Autoris√©s: 4px, 8px, 12px, 16px, 24px, 32px, 48px, 64px, 96px
- ‚ùå INTERDITS: 13px, 17px, 23px, 27px, etc. (valeurs arbitraires)

**Palette Couleurs**:
```css
--primary: #XXXXXX;    /* [Nom couleur] */
--secondary: #XXXXXX;  /* [Nom couleur] */
--accent: #XXXXXX;     /* [Nom couleur] */
--neutral: #XXXXXX;    /* [Nom couleur] */
--background: #XXXXXX;
--text: #XXXXXX;
```

**Contraste WCAG AA** (OBLIGATOIRE):
- [ ] Texte normal: ‚â• 4.5:1
- [ ] Texte large (18px+): ‚â• 3:1
- [ ] √âl√©ments interactifs: ‚â• 3:1

### 1.3 Composants - √âtats Obligatoires

**Tous les boutons DOIVENT avoir 6 √©tats**:
- [ ] Default (√©tat normal)
- [ ] Hover (survol souris)
- [ ] Focus (navigation clavier)
- [ ] Active (clic en cours)
- [ ] Disabled (d√©sactiv√©)
- [ ] Loading (en chargement)

**Tous les liens DOIVENT avoir 4 √©tats**:
- [ ] Default
- [ ] Hover
- [ ] Focus
- [ ] Visited

**Images DOIVENT avoir**:
- [ ] Alt text descriptif (WCAG)
- [ ] Lazy loading (performance)
- [ ] Format optimis√© (WebP, AVIF)
- [ ] Responsive (srcset ou next/image)

### 1.4 Animations & Micro-Interactions

**Standards professionnels**:
- [ ] Transitions fluides (200-300ms)
- [ ] Easing naturel (ease-in-out, cubic-bezier)
- [ ] Hover effects subtils (translateY, scale, shadow)
- [ ] Loading states visuels (skeletons, spinners)
- [ ] Respect prefers-reduced-motion

---

## 2. üìä PERFORMANCE REQUIREMENTS

### 2.1 Lighthouse Scores (MINIMUM)

**Seuils critiques** (BLOQUER si en dessous):
- [ ] Performance: ‚â• 90/100
- [ ] Accessibility: ‚â• 95/100
- [ ] Best Practices: ‚â• 95/100
- [ ] SEO: ‚â• 95/100

### 2.2 Core Web Vitals

- [ ] LCP (Largest Contentful Paint): < 2.5s
- [ ] FID (First Input Delay): < 100ms
- [ ] CLS (Cumulative Layout Shift): < 0.1

### 2.3 Bundle Size

- [ ] Initial JS Bundle: < 200kb (gzipped)
- [ ] Total Page Weight: < 1MB (first load)
- [ ] Fonts: < 100kb total
- [ ] Images: Optimis√©es (WebP/AVIF, lazy load)

---

## 3. üîå TECHNICAL REQUIREMENTS

### 3.1 Stack Technique

**Frontend**:
- Framework: [Next.js 14 / Astro / SvelteKit / etc.]
- Styling: [Tailwind CSS / CSS Modules / etc.]
- Animations: [Framer Motion / GSAP / etc.]
- Components: [Radix UI / shadcn/ui / Headless UI / etc.]

**Backend** (si applicable):
- API: [Next.js API Routes / Express / FastAPI / etc.]
- Database: [Supabase / Vercel Postgres / MongoDB / etc.]
- Auth: [Supabase / Clerk / Auth0 / etc.]
- Payment: [Stripe / PayPal / etc.]

**Hosting & Deployment**:
- Platform: [Vercel / Netlify / Cloudflare / etc.]
- CI/CD: [GitHub Actions / Vercel Git / Netlify Build / etc.]

### 3.2 Architecture Modulaire

**Adapters Pattern** (OBLIGATOIRE):
```
src/
‚îú‚îÄ‚îÄ adapters/
‚îÇ   ‚îú‚îÄ‚îÄ database/    # supabase.ts, mongodb.ts, index.ts
‚îÇ   ‚îú‚îÄ‚îÄ payment/     # stripe.ts, paypal.ts, index.ts
‚îÇ   ‚îú‚îÄ‚îÄ auth/        # supabase.ts, clerk.ts, index.ts
‚îÇ   ‚îî‚îÄ‚îÄ storage/     # cloudinary.ts, vercel-blob.ts, index.ts
```

**Changement de provider DOIT √™tre possible en < 30 minutes.**

### 3.3 APIs & Credentials

**Sauvegard√©es dans Checkpoint Memory**:
```bash
bash ~/scripts/checkpoint-memory.sh get-api [service]
```

**Services requis pour ce projet**:
- [ ] [Service 1]: API Key sauvegard√©e ‚úÖ/‚ùå
- [ ] [Service 2]: API Key sauvegard√©e ‚úÖ/‚ùå
- [ ] [Service 3]: API Key sauvegard√©e ‚úÖ/‚ùå

---

## 4. üß™ VALIDATION REQUIREMENTS

### 4.1 Validation Pre-Deployment

**OBLIGATOIRE avant CHAQUE d√©ploiement**:
```bash
bash .validation/pre-present-check.sh https://[url-deployed]
```

**Agents de validation** (4/4 doivent passer):
- [ ] 1/4 Design Validator (fonts, spacing, buttons)
- [ ] 2/4 Visual Screenshot (desktop + mobile + benchmark)
- [ ] 3/4 API Health (tous endpoints fonctionnels)
- [ ] 4/4 Button Tester (tous √©tats, cliquables)

### 4.2 Tests Automatis√©s

- [ ] Unit tests: Fonctions critiques
- [ ] Integration tests: API endpoints
- [ ] E2E tests: User flows principaux
- [ ] A11y tests: WCAG AA compliance

---

## 5. ‚ôø ACCESSIBILITY REQUIREMENTS

### 5.1 WCAG 2.1 AA (MINIMUM)

**Navigation**:
- [ ] Clavier compl√®te (Tab, Enter, Espace, Esc)
- [ ] Focus visible (outline 2px minimum)
- [ ] Skip links (navigation rapide)
- [ ] Landmarks ARIA (header, nav, main, footer)

**Contenus**:
- [ ] Alt text sur TOUTES les images
- [ ] Labels sur TOUS les formulaires
- [ ] Headings hi√©rarchiques (H1 ‚Üí H2 ‚Üí H3)
- [ ] Contraste couleurs respect√©

**Interactions**:
- [ ] Messages d'erreur clairs
- [ ] √âtats focus, hover, active visibles
- [ ] Temps de r√©ponse suffisant (pas de timeout agressif)
- [ ] Support screen readers

### 5.2 Responsive Design

**Breakpoints obligatoires**:
- [ ] Mobile: 375px (iPhone SE)
- [ ] Mobile Large: 428px (iPhone Pro Max)
- [ ] Tablet: 768px (iPad)
- [ ] Desktop: 1280px (Standard)
- [ ] Desktop Large: 1920px (Full HD)

**Mobile-First** (OBLIGATOIRE):
- Code pour mobile d'abord
- Progressive enhancement vers desktop
- Touch targets ‚â• 44x44px

---

## 6. üìù CONTENT REQUIREMENTS

### 6.1 Contenu Obligatoire

**Pages essentielles**:
- [ ] Homepage (Hero, Features, CTA, Footer)
- [ ] [Page 2]
- [ ] [Page 3]
- [ ] Legal (CGV, Politique confidentialit√©, Mentions l√©gales)

**SEO Metadata** (TOUTES les pages):
- [ ] Title (50-60 caract√®res)
- [ ] Meta description (150-160 caract√®res)
- [ ] Open Graph tags (og:title, og:description, og:image)
- [ ] Twitter Card tags
- [ ] Canonical URL

### 6.2 Multilangue (si applicable)

- [ ] Langues support√©es: [FR, EN, HE, etc.]
- [ ] i18n syst√®me: [next-intl / i18next / etc.]
- [ ] Traductions compl√®tes (100% coverage)
- [ ] S√©lecteur langue visible

---

## 7. üöÄ DEPLOYMENT REQUIREMENTS

### 7.1 Pre-Deployment Checklist

**BLOQUER d√©ploiement si l'un est ‚ùå**:
- [ ] Build r√©ussit sans erreurs
- [ ] Lighthouse scores ‚â• seuils
- [ ] Validation agents 4/4 passent
- [ ] Tests automatis√©s passent
- [ ] Variables d'env configur√©es
- [ ] .env.example √† jour
- [ ] README.md document√©

### 7.2 URLs Permanentes

**JAMAIS localhost** (sauf dev Shopify CLI si vraiment n√©cessaire):
- [ ] URL Staging: [URL]
- [ ] URL Production: [URL]

### 7.3 Git Workflow

**Branches**:
- `main`: Production
- `staging`: Pre-production
- `feature/*`: Features en cours
- `fix/*`: Bug fixes
- `claude-*-DATE`: Branches Claude Code

**Commits**:
- Convention: Conventional Commits
- Messages: Clairs, descriptifs
- Atomiques: 1 feature = 1 commit

---

## 8. üîê SECURITY REQUIREMENTS

### 8.1 Secrets Management

**JAMAIS dans le code**:
- [ ] .env.local (local uniquement)
- [ ] Vercel/Netlify env vars (production)
- [ ] .gitignore contient .env*

### 8.2 Headers de S√©curit√©

```javascript
// next.config.js
Strict-Transport-Security
X-Content-Type-Options: nosniff
X-Frame-Options: SAMEORIGIN
Referrer-Policy: origin-when-cross-origin
```

### 8.3 Input Validation

- [ ] Zod schemas pour validation
- [ ] Sanitization inputs utilisateur
- [ ] CORS configur√© correctement
- [ ] Rate limiting sur APIs

---

## 9. üìä MONITORING & ANALYTICS

### 9.1 Analytics

- [ ] Vercel Analytics / Plausible / Fathom install√©
- [ ] √âv√©nements track√©s: CTA clics, formulaires, conversions
- [ ] Privacy-first (RGPD compliant)

### 9.2 Error Tracking

- [ ] Sentry / LogRocket configur√©
- [ ] Source maps upload√©es
- [ ] Alertes configur√©es (email/Slack)

---

## 10. üéØ PROJECT-SPECIFIC REQUIREMENTS

### 10.1 Besoins Uniques

[PERSONNALISER CETTE SECTION POUR CHAQUE PROJET]

**Fonctionnalit√©s sp√©cifiques**:
- [ ] [Feature 1]: [Description + crit√®res d'acceptance]
- [ ] [Feature 2]: [Description + crit√®res d'acceptance]
- [ ] [Feature 3]: [Description + crit√®res d'acceptance]

**Contraintes sp√©cifiques**:
- [ ] [Contrainte 1]: [ex. "Support IE11" / "Offline-first" / etc.]
- [ ] [Contrainte 2]: [ex. "i18n FR/HE" / "RTL support" / etc.]

---

## 11. ‚úÖ PRE-PRESENTATION CHECKLIST FINALE

**AVANT de pr√©senter au client/utilisateur**:

### Design & UX
- [ ] Screenshots desktop + mobile prises
- [ ] Comparaison vs benchmarks faite
- [ ] Tous boutons ont 6 √©tats
- [ ] Animations fluides (pas de lag)
- [ ] Espacement coh√©rent (syst√®me 4/8)
- [ ] Typographie < 3 fonts
- [ ] Contraste WCAG AA respect√©

### Performance & Tech
- [ ] Lighthouse 90/95/95/95 atteint
- [ ] Core Web Vitals verts
- [ ] Build sans warnings
- [ ] Tests passent 100%
- [ ] Pas de console errors

### Validation Agents
- [ ] Design Validator: PASS
- [ ] Visual Screenshots: PASS
- [ ] API Health: PASS
- [ ] Button Tester: PASS

### Content & SEO
- [ ] Tout contenu pr√©sent
- [ ] Pas de Lorem Ipsum
- [ ] Metadata SEO compl√®te
- [ ] Images alt text 100%

### Security & Deploy
- [ ] Pas de secrets hardcod√©s
- [ ] Headers s√©curit√© configur√©s
- [ ] URL permanente publique
- [ ] Git: commit + push fait

---

## 12. üö® R√àGLES ABSOLUES NON-N√âGOCIABLES

1. **JAMAIS d√©ployer sans validation 4/4**
2. **JAMAIS pr√©senter avec Lighthouse < 90**
3. **JAMAIS ignorer requirements accessibilit√©**
4. **JAMAIS hardcoder API keys**
5. **JAMAIS utiliser localhost pour pr√©sentation**
6. **JAMAIS d√©passer 3 fonts**
7. **JAMAIS utiliser espacements arbitraires (13px, 27px, etc.)**
8. **JAMAIS cr√©er boutons sans 6 √©tats**
9. **JAMAIS oublier alt text images**
10. **JAMAIS rusher ("feu au cul") - qualit√© > vitesse**

---

## üìû CONTACTS & RESOURCES

**Client/Stakeholder**:
- Nom: [NOM]
- Email: [EMAIL]
- Deadline: 2025-11-17

**Resources**:
- Figma/Design: [URL]
- GitHub Repo: [URL]
- Staging: [URL]
- Production: [URL]

**Documentation**:
- Design System: [URL ou fichier]
- API Docs: [URL ou fichier]
- Component Library: [URL ou fichier]

---

## üìù CHANGELOG

### 2025-11-17 - Initial Creation
- Cr√©ation fichier requirements
- D√©finition design system
- Configuration validation agents

### 2025-11-17 - [Update Description]
- [Changements]

---

**FIN DU FICHIER REQUIREMENTS**

**Ce fichier est SACR√â. Il garantit la qualit√© world-class du projet.**
